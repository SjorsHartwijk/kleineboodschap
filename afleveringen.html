<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Afleveringen - Kleine Boodschap Data</title>
    <meta name="description" content="Zoek je Kleine Boodschap afleveringen over specifieke onderwerpen? Duik in het complete archief en vind moeiteloos elke aflevering met de krachtige zoekfunctie.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://kbdata.nl/afleveringen.html" />
    <meta name="theme-color" content="#154666"/>
    <link rel="icon" type="image/svg+xml" href="assets/images/logo2.svg">
    <link rel="icon" type="image/png" href="assets/images/logo2.png">
    <link rel="apple-touch-icon" href="assets/images/apple-touch-icon-iphone-60x60.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/images/apple-touch-icon-ipad-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/images/apple-touch-icon-iphone-retina-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/images/apple-touch-icon-ipad-retina-152x152.png">
    <meta property="og:title" content="Kleine Boodschap Data">
    <meta property="og:site_name" content="Kleine Boodschap Data">
    <meta property="og:url" content="https://kbdata.nl/afleveringen.html">
    <meta property="og:description" content="Zoek je Kleine Boodschap afleveringen over specifieke onderwerpen? Duik in het complete archief en vind moeiteloos elke aflevering met de krachtige zoekfunctie.">
    <meta property="og:image" content="https://kbdata.nl/assets/images/opengraph.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>

<body class="d-flex flex-column h-100" id="afleveringen">
        <main class="flex-shrink-0">
            <!-- Navigation-->
            <nav class="navbar navbar-top navbar-expand-lg navbar-dark bg-theme">
                <div class="container-fluid">
                    <a class="navbar-brand" href="/"><img src="assets/images/logo2.png" alt="Logo Kleine Boodschap Data"> <span
                            class="d-none d-md-inline-block ">Kleine Boodschap Data</span><span
                            class="d-inline-block d-md-none">KB Data</span></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation"><span
                            class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                            <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                            <li class="nav-item"><a class="nav-link active" href="afleveringen.html">Afleveringen</a></li>
                            <li class="nav-item"><a class="nav-link" href="kaart.html">Kaart</a></li>
                            <li class="nav-item"><a class="nav-link" href="kalender.html">Kalender</a></li>
                            <li class="nav-item"><a class="nav-link" href="reeks.html">Reeks</a></li>
                            <li class="nav-item"><a class="nav-link" href="index.html#about">Over</a></li>
                            <li class="nav-item"><a class="nav-link" href="https://bsky.app/profile/kbdata.nl" rel="nofollow" target="_blank"><i class="bi bi-bluesky"></i></a></li>
                            <li class="nav-item"><a class="nav-link" href="https://kleineboodschap.com" rel="nofollow"
                                target="_blank">Kleine Boodschap <i class="bi bi-box-arrow-up-right"></i></a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <section class="afleveringen">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="mt-2 mt-lg-5 mb-3 mb-lg-5">
                                <h1>Afleveringen</h1>
                                <p>Op deze pagina staan alle geïndexeerde afleveringen van Kleine Booschap in een tabel, gebruik de
                                    zoekfunctie om de titel of onderwerp van een aflevering op te zoeken.</p>
                                <p>Bekijk ook de afleveringen op basis van <a href="kalender.html">kalenderweergave</a>.</p>
                                <div class="input-group">
                                    <input type="text" class="form-control form-control-lg" id="searchInput"
                                        onkeyup="searchEpisodes()" placeholder="Zoek aflevering(en)">
                                    <span class="input-group-text"><i class="bi bi-search"></i></span>
                                </div>
                            </div>
                            <table id="episodesTable" class="table table-responsive rounded-3">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Titel</th>
                                        <th>Categorie</th>
                                        <th>Tijd</th>
                                        <th>Datum</th>
                                    </tr>
                                </thead>
                                <tbody id="episodesBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!-- floating mobile nav -->
        <div class="container-fluid d-md-none">
            <nav class="navbar navbar-bottom shadow-lg fixed-bottom">
                <div class="container d-flex justify-content-around text-center">
                    <a href="index.html" class="text-decoration-none">
                        <i class="bi bi-bar-chart d-block"></i>
                        <span class="small">Statistieken</span>
                    </a>
                    <a href="afleveringen.html" class="text-decoration-none active" title="Afleveringen">
                        <i class="bi bi-list-ul d-block"></i>
                        <span class="small">Afleveringen</span>
                    </a>
                    <a href="kaart.html" class="text-decoration-none">
                        <i class="bi bi-geo-alt d-block"></i>
                        <span class="small">Kaart</span>
                    </a>
                    <a href="kalender.html" class="text-decoration-none">
                        <i class="bi bi-calendar3 d-block"></i>
                        <span class="small">Kalender</span>
                    </a>
                    <a href="reeks.html" class="text-decoration-none">
                        <i class="bi bi-arrows d-block"></i>
                        <span class="small">Reeks</span>
                    </a>
              </div>
            </nav>
        </div>
        <footer class="bg-dark py-4 mt-auto">
            <div class="container px-5">
                <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                    <div class="col-auto">
                        <div class="small m-0 text-white">Copyright &copy; Sjors Hartwijk
                            <script>document.write(new Date().getFullYear())</script>
                        </div>
                    </div>
                    <div class="col-auto">
                        <a class="link-light small" href="/">Home</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="index.html#about">Over</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://bsky.app/profile/kbdata.nl"
                            target="_blank">Bluesky</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://sjorshartwijk.nl/" target="_blank">Sjors
                            Hartwijk</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://kleineboodschap.com" target="_blank">Kleine
                            Boodschap</a>
                    </div>
                </div>
            </div>
        </footer>
        <script>
            // Definieer de searchEpisodes-functie
            function searchEpisodes() {
                var input, filter, table, tr, td, i, txtValue;
                input = document.getElementById("searchInput");
                filter = input.value.toUpperCase();
                table = document.getElementById("episodesTable");
                tr = table.getElementsByTagName("tr");
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[1];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }

            function getEpisodes() {
                fetch('episodes.json')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Failed to load JSON data');
                        }
                        return response.json();
                    })
                    .then(data => {
                        const episodesBody = document.getElementById('episodesBody');

                        // Sorteer de afleveringen op datum, nieuwste eerst
                        const sortedEpisodes = data.sort((a, b) => new Date(b.datum) - new Date(a.datum));

                        // Functie om de tabel op te bouwen
                        function buildTable(episodes) {
                            episodesBody.innerHTML = '';
                            episodes.forEach(episode => {
                                const row = document.createElement('tr');
                                const formattedDate = formatDate(episode.datum);
                                row.innerHTML = `
                                    <td>${episode.id}</td>
                                    <td>${episode.titel}</td>
                                    <td>${episode.categorie}</td>
                                    <td class="small">${episode.tijd} minuten</td>
                                    <td class="small">${formattedDate}</td>
                                `;
                                episodesBody.appendChild(row);

                                // Voeg schema.org PodcastEpisode toe
                                const ldJson = {
                                    "@context": "https://schema.org",
                                    "@type": "PodcastEpisode",
                                    "name": episode.titel,
                                    "datePublished": episode.datum,
                                    "episodeNumber": episode.id,
                                    "partOfSeries": {
                                        "@type": "PodcastSeries",
                                        "name": "Kleine Boodschap"
                                    }
                                };
                                const script = document.createElement('script');
                                script.type = 'application/ld+json';
                                script.textContent = JSON.stringify(ldJson);
                                document.body.appendChild(script);
                            });
                        }

                        // Functie om de datum in het juiste formaat weer te geven (dd-mm-yyyy)
                        function formatDate(dateString) {
                            const date = new Date(dateString);
                            const day = ('0' + date.getDate()).slice(-2);
                            const month = ('0' + (date.getMonth() + 1)).slice(-2);
                            const year = date.getFullYear();
                            return `${day}-${month}-${year}`;
                        }

                        // Roep de functie aan om de initiële tabel te bouwen
                        buildTable(sortedEpisodes);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Er is een fout opgetreden bij het laden van de gegevens.');
                    });
            }

            window.onload(getEpisodes());
        </script>
        <!-- bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>

</html>