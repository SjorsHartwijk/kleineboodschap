<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
    <title>Kleine Boodschap Data</title>
    <meta property="og:title" content="Kleine Boodschap Data">
    <meta property="og:site_name" content="Kleine Boodschap Data">
    <meta property="og:url" content="https://sjorshartwijk.github.io/kleineboodschap/">
    <meta property="og:description" content="Deze pagina biedt alle statistieken en feiten van de podcast Kleine Boodschap">
    <meta property="og:type" content="">
    <meta property="og:image" content="https://sjorshartwijk.github.io/kleineboodschap/assest/images/opengraph.png">
    <meta name="description"
        content="Geniet je ook wekelijks van Kleine Boodschap en vraag je je wel eens af hoeveel tijd je eraan besteedt? Deze pagina biedt alle statistieken en feiten die je al dan niet nodig hebt.">
        <script>
            (function(c,l,a,r,i,t,y){
                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
            })(window, document, "clarity", "script", "nyudz4d3qi");
        </script>
        <script src="https://kit.fontawesome.com/396ea48297.js" crossorigin="anonymous"></script>
</head>

<body class="d-flex flex-column h-100">
        <main class="flex-shrink-0">
            <!-- Navigation-->
            <nav class="navbar navbar-expand-lg navbar-dark bg-theme">
                <div class="container py-lg-3">
                    <a class="navbar-brand" href="index.html"><img src="assets/images/logo2.png"/ alt="Logo Kleine Boodschap Data"> <span
                            class="d-none d-md-inline-block ">Kleine Boodschap Data</span><span
                            class="d-inline-block d-md-none">KB Data</span></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation"><span
                            class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                            <li class="nav-item"><a class="nav-link active" href="afleveringen.html">Afleveringen</a>
                            </li>
                            <li class="nav-item"><a class="nav-link" href="reeks.html">Reeks</a></li>
                            <li class="nav-item"><a class="nav-link" href="index.html#about">Over</a></li>
                            <li class="nav-item"><a class="nav-link"
                                href="https://github.com/SjorsHartwijk/kleineboodschap" rel="nofollow"
                                target="_blank" aria-label="GitHub"><i class="fa-brands fa-github"></i></a></li>
                            <li class="nav-item"><a class="nav-link" href="https://bsky.app/profile/sjorshartwijk.bsky.social" rel="nofollow" target="_blank"><i class="fa-brands fa-bluesky"></i></a></li>
                            <li class="nav-item"><a class="nav-link" href="https://kleineboodschap.com" rel="nofollow"
                                target="_blank">Kleine Boodschap <i class="fa-solid fa-arrow-up-right-from-square"></i></a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <section class="afleveringen">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="my-2 my-lg-5 p-2 p-lg-5 bg-light rounded-3">
                                <h1>Afleveringen</h1>
                                <p>Op deze pagina staan alle geïndexeerde afleveringen van Kleine Booschap in een tabel, gebruik de
                                    zoekfunctie om de titel of onderwerp van een aflevering op te zoeken.</p>
                                <div class="input-group">
                                    <input type="text" class="form-control form-control-lg" id="searchInput"
                                        onkeyup="searchEpisodes()" placeholder="Zoek aflevering(en)">
                                    <span class="input-group-text"><i class="bi bi-search"></i></span>
                                </div>
                            </div>
                            <table id="episodesTable" class="table table-responsive">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Titel</th>
                                        <th>Categorie</th>
                                        <th>Tijd</th>
                                        <th>Datum</th>
                                    </tr>
                                </thead>
                                <tbody id="episodesBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <footer class="bg-dark py-4 mt-auto">
            <div class="container px-5">
                <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                    <div class="col-auto">
                        <div class="small m-0 text-white">Copyright &copy; Sjors Hartwijk
                            <script>document.write(new Date().getFullYear())</script>
                        </div>
                    </div>
                    <div class="col-auto">
                        <a class="link-light small" href="index.html">Home</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="index.html#about">Over</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://github.com/SjorsHartwijk/kleineboodschap"
                            target="_blank">Github</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://sjorshartwijk.nl/" target="_blank">Sjors
                            Hartwijk</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://kleineboodschap.com" target="_blank">Kleine
                            Boodschap</a>
                    </div>
                </div>
            </div>
        </footer>
        <script>
            // Definieer de searchEpisodes-functie
            function searchEpisodes() {
                var input, filter, table, tr, td, i, txtValue;
                input = document.getElementById("searchInput");
                filter = input.value.toUpperCase();
                table = document.getElementById("episodesTable");
                tr = table.getElementsByTagName("tr");
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[1];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }

            function getEpisodes() {
                fetch('episodes.json')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Failed to load JSON data');
                        }
                        return response.json();
                    })
                    .then(data => {
                        const episodesBody = document.getElementById('episodesBody');

                        // Sorteer de afleveringen op datum, nieuwste eerst
                        const sortedEpisodes = data.sort((a, b) => new Date(b.datum) - new Date(a.datum));

                        // Functie om de tabel op te bouwen
                        function buildTable(episodes) {
                            episodesBody.innerHTML = '';
                            episodes.forEach(episode => {
                                const row = document.createElement('tr');
                                const formattedDate = formatDate(episode.datum);
                                row.innerHTML = `
                            <td>${episode.id}</td>
                            <td>${episode.titel}</td>
                            <td>${episode.categorie}</td>
                            <td class="small">${episode.tijd} minuten</td>
                            <td class="small">${formattedDate}</td>
                        `;
                                episodesBody.appendChild(row);
                            });
                        }

                        // Functie om de datum in het juiste formaat weer te geven (dd-mm-yyyy)
                        function formatDate(dateString) {
                            const date = new Date(dateString);
                            const day = ('0' + date.getDate()).slice(-2);
                            const month = ('0' + (date.getMonth() + 1)).slice(-2);
                            const year = date.getFullYear();
                            return `${day}-${month}-${year}`;
                        }

                        // Roep de functie aan om de initiële tabel te bouwen
                        buildTable(sortedEpisodes);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Er is een fout opgetreden bij het laden van de gegevens.');
                    });
            }

            window.onload(getEpisodes());
        </script>
        <!-- bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    </body>

</html>