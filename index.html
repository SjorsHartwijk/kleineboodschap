<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welkom bij Kleine Boodschap Data</title>
    <meta name="description" content="Ben je een trouwe luisteraar van Kleine Boodschap en benieuwd naar de cijfers achter je favoriete podcast? Ontdek hier alle statistieken, feiten en luistertijd van Kleine Boodschap!">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://kbdata.nl" />
    <meta name="theme-color" content="#154666"/>
    <link rel="icon" type="image/svg+xml" href="assets/images/logo2.svg">
    <link rel="icon" type="image/png" href="assets/images/logo2.png">
    <link rel="apple-touch-icon" href="assets/images/apple-touch-icon-iphone-60x60.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/images/apple-touch-icon-ipad-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/images/apple-touch-icon-iphone-retina-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/images/apple-touch-icon-ipad-retina-152x152.png">
    <meta property="og:title" content="Kleine Boodschap Data">
    <meta property="og:site_name" content="Kleine Boodschap Data">
    <meta property="og:url" content="https://kbdata.nl/">
    <meta property="og:description" content="Ben je een trouwe luisteraar van Kleine Boodschap en benieuwd naar de cijfers achter je favoriete podcast? Ontdek hier alle statistieken, feiten en luistertijd van Kleine Boodschap!">
    <meta property="og:image" content="https://kbdata.nl/assets/images/opengraph.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>
    <!-- Navigation-->
    <nav class="navbar navbar-top navbar-expand-lg navbar-dark bg-theme shadow-sm">
        <div class="container-xxl">
            <a class="navbar-brand" href="/"><img src="assets/images/logo2.png" alt="Logo Kleine Boodschap Data" title="Kleine Boodschap Data"> <span
                    class="d-none d-md-inline-block ">Kleine Boodschap Data</span><span
                    class="d-inline-block d-md-none">KB Data</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation"><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" href="/" title="Home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="afleveringen.html" title="Afleveringen">Afleveringen</a></li>
                    <li class="nav-item"><a class="nav-link" href="kaart.html" title="Kaart">Kaart</a></li>
                    <li class="nav-item"><a class="nav-link" href="kalender.html" title="Kalender">Kalender</a></li>
                    <li class="nav-item"><a class="nav-link" href="reeks.html" title="Reeks">Reeks</a></li>
                    <li class="nav-item"><a class="nav-link wrappedBtn" href="wrapped.html">Wrapped</a></li>
                    <li class="nav-item"><a class="nav-link" href="over.html" title="Over">Over</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://bsky.app/profile/kbdata.nl" rel="follow" target="_blank"><i class="bi bi-bluesky"></i></a></li>
                    <li class="nav-item"><a class="nav-link" href="https://kleineboodschap.com" rel="follow" target="_blank">Kleine Boodschap <i class="bi bi-box-arrow-up-right"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Header-->
    <header id="top" class="finisher-header">
        <div class="container">
            <div class="row align-items-center justify-content-center justify-content-xl-start">
                <div class="col-lg-8 col-xl-8 col-xxl-8">
                    <div class="my-5 text-center text-xl-start">
                        <h1 class="display-5 fw-bolder text-white mb-2"><img src="assets/images/logo2.png" alt="Logo Kleine Boodschap Data" title="Kleine Boodschap Data"> Kleine
                            Boodschap data</h1>
                        <p class="lead fw-normal text-white mb-4">Ben je een trouwe luisteraar van Kleine Boodschap
                            en benieuwd naar de cijfers achter je favoriete podcast? Ontdek hier alle
                            statistieken, feiten en luistertijd van Kleine Boodschap!</p>
                        <div class="d-grid gap-3 d-sm-flex justify-content-sm-center justify-content-xl-start">
                            <a class="btn btn-theme px-4" href="#statistieken" title="Scroll naar de statistieken">Statistieken</a>
                            <a class="btn btn-success px-4" href="kaart.html" title="Bekijk de kaart">Kaart</a>
                            <a class="btn btn-outline-light px-4" href="#data" title="Scroll naar de data">Data</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main>
    <!-- Statistieken section-->
    <section class="py-5" id="statistieken">
        <div class="container">
            <div class="row">
                <div class="col-12 mb-3">
                    <h2 class="mb-0">Statistieken</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-lg-4 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="h5 card-title">Aantal Afleveringen</h3>
                            <p class="card-text">Op dit moment zijn er <strong><span
                                        id="afleveringenCount"></span></strong> afleveringen van Kleine
                                Boodschap geïndexeerd op deze website.</p>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-lg-4 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="h5 card-title">Gemiddeld</h3>
                            <p class="card-text">Gemiddeld duurt een aflevering van Kleine Boodschap
                                <strong><span id="averageMinutes"></span></strong> minuten.</p>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-lg-4 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="h5 card-title">Totaal</h3>
                            <p class="card-text"><span id="totalMinutes"></span></p>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-start">
                            <h3 class="h5 card-title">Langste aflevering</h3>
                            <p class="card-text">Aflevering <span id="longestEpisodeInfo"></span></p>
                            <div class="d-flex mt-auto">
                                <details>
                                    <summary>Top 5</summary>
                                    <ul id="longestEpisodesList" class="list-group"></ul>
                                </details>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-start">
                            <h3 class="h5 card-title">Kortste aflevering</h3>
                            <p class="card-text">Aflevering <span id="shortestEpisodeInfo"></span></p>
                            <div class="d-flex mt-auto">
                                <details>
                                    <summary>Top 5</summary>
                                    <ul id="shortestEpisodesList" class="list-group"></ul>
                                </details>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="statistics"></div>
                <div class="col-12 col-md-6 col-lg-3 mb-3">
                    <div class="card bg-achtergrond h-100">
                        <div class="card-body" id="achtergrondStatistics">
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-3 mb-3">
                    <div class="card bg-nieuws h-100">
                        <div class="card-body" id="newsStatistics">
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-3 mb-3">
                    <div class="card bg-interview h-100">
                        <div class="card-body" id="interviewStatistics">
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-3 mb-3">
                    <div class="card bg-reportage h-100">
                        <div class="card-body" id="reportageStatistics">
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-start">
                            <h3 class="h5 card-title">Vandaag de dag</h3>
                            <p class="card-text">Indien er op deze dag in het verleden een aflevering is
                                verschenen wordt/worden deze aflevering(en) hier geplaatst. Bekijk ook het complete overzicht op de <a href="kalender.html">kalender</a>.</p>
                            <ul class="d-flex mt-auto list-group" id="todayEpisodes">
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="h5 card-title">Jouw dag</h3>
                            <p class="card-text">Benieuwd welke aflevering(en) op bijv. jouw verjaardag is
                                gepubliceerd? Vul je dag in en zie direct het resultaat.</p>
                            <form id="episodeForm">
                                <div class="row">
                                    <div class="col-8">
                                        <label for="month" class="form-label">Maand:</label>
                                        <select id="month" class="form-control" required>
                                            <option disabled selected>Selecteer maand</option>
                                            <option value="1">Januari</option>
                                            <option value="2">Februari</option>
                                            <option value="3">Maart</option>
                                            <option value="4">April</option>
                                            <option value="5">Mei</option>
                                            <option value="6">Juni</option>
                                            <option value="7">Juli</option>
                                            <option value="8">Augustus</option>
                                            <option value="9">September</option>
                                            <option value="10">Oktober</option>
                                            <option value="11">November</option>
                                            <option value="12">December</option>
                                        </select>
                                    </div>
                                    <div class="col-4">
                                        <label for="day" class="form-label">Dag:</label>
                                        <input class="form-control" type="text" id="day" inputmode="numeric"
                                            pattern="[1-9]|[12]\d|3[01]" title="Vul een getal tussen 1 en 31 in"
                                            required>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary my-3 px-4">Zoek</button>
                            </form>
                            <ul class="list-group" id="episodeInfo"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Data section-->
    <section id="data">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h2>Data</h2>
                    <p>Bekijk hier de data van alle afleveringen van Kleine Boodschap.</p>
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="d-flex align-items-center justify-content-between">
                                <h3 class="card-title h4 flex-md-grow-1">Afleveringen</h3>
                                <ul class="nav nav-pills rounded" id="myTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="grafiek-tab" data-bs-toggle="tab" data-bs-target="#grafiek" type="button" role="tab" aria-controls="grafiek" aria-selected="true">Grafiek</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="mozaiekpanel-tab" data-bs-toggle="tab" data-bs-target="#mozaiekpanel" type="button" role="tab" aria-controls="mozaiekpanel" aria-selected="false">Mozaïek</button>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-content">
                                <div class="tab-pane active" id="grafiek" role="tabpanel" aria-labelledby="grafiek-tab" tabindex="0">
                                    <div class="d-block d-md-none text-center">
                                        <div class="alert alert-info mt-2">
                                            <small class="fst-italic">Op 't kleine scherm, een ware twist, de grafiek zo klein — wat je mist. Wil je de data helder bekijken? Laat een mozaïek het inzicht bereiken.</small>
                                        </div>
                                    </div>
                                    <div class="d-flex flex-wrap align-items-center d-none d-md-flex">
                                        <div class="m-2"><span class="badge achtergrond">&nbsp;</span>&nbsp;<small>Achtergrond</small></div>
                                        <div class="m-2"><span class="badge nieuws">&nbsp;</span>&nbsp;<small>Nieuws</small></div>
                                        <div class="m-2"><span class="badge interview">&nbsp;</span>&nbsp;<small>Interview</small></div>
                                        <div class="m-2"><span class="badge reportage">&nbsp;</span>&nbsp;<small>Reportage</small></div>
                                    </div>
                                    <canvas id="barChart" class="d-none d-md-block"></canvas>
                                    <div class="text-center d-none d-md-block my-2"><a href="grafiek.html" class="btn btn-sm btn-outline-dark" title="Bekijk de grafiek op een aparte grote pagina"><i class="bi bi-arrows-fullscreen"></i> Grote grafiek</a></div>
                                </div>
                                <div class="tab-pane" id="mozaiekpanel" role="tabpanel" aria-labelledby="mozaiekpanel-tab" tabindex="0">
                                    <small>Klik op een aflevering om alle informatie over de aflevering te zien.</small>
                                    <div id="mozaiek" class="mozaiek mt-3"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-md-6 col-lg-4 mb-3">
                    <div class="card h-100 mb-3">
                        <div class="card-body">
                            <h3 class="h4">Publicatiedagen</h3>
                            <p>
                                De meeste afleveringen van Kleine Boodschap verschijnen op maandag. Momenteel <strong id="mondayCount"></strong> van de in totaal <span id="totalCount"></span>
                                geïndexeerde afleveringen. In het staafdiagram hieronder zie je op welke dagen de overige <strong id="otherCount"></strong> afleveringen zijn verschenen.</p>
                                <script>
                                    // Wait for mondayCount and totalCount to be set
                                    function updateOtherCount() {
                                        const total = parseInt(document.getElementById('totalCount').textContent) || 0;
                                        const monday = parseInt(document.getElementById('mondayCount').textContent) || 0;
                                        if (total && monday) {
                                            document.getElementById('otherCount').textContent = total - monday;
                                        } else {
                                            setTimeout(updateOtherCount, 100);
                                        }
                                    }
                                    updateOtherCount();
                                </script>
                            </p>
                            <script>
                            fetch('episodes.json')
                                .then(res => res.json())
                                .then(episodes => {
                                    const total = episodes.length;
                                    const mondayCount = episodes.filter(ep => {
                                        const date = new Date(ep.datum);
                                        // getDay(): 1 = Monday
                                        return date.getDay() === 1;
                                    }).length;
                                    document.getElementById('mondayCount').textContent = mondayCount;
                                    document.getElementById('totalCount').textContent = total;
                                });
                            </script>
                            <canvas id="weekdayBarChart"></canvas>
                            <script>
                            fetch('episodes.json')
                                .then(res => res.json())
                                .then(episodes => {
                                    // Weekdays starting with Tuesday (Maandag removed)
                                    const weekdays = ['Dinsdag', 'Woensdag', 'Donderdag', 'Vrijdag', 'Zaterdag', 'Zondag'];
                                    const counts = Array(6).fill(0);
                                    episodes.forEach(ep => {
                                        const date = new Date(ep.datum);
                                        // getDay(): 0=Sunday, 1=Monday, ..., 6=Saturday
                                        // Shift so Monday=0, ..., Sunday=6
                                        const weekdayIndex = (date.getDay() + 6) % 7;
                                        // Only count Tuesday-Sunday (weekdayIndex 1-6)
                                        if (weekdayIndex >= 1 && weekdayIndex <= 6) {
                                            counts[weekdayIndex - 1]++;
                                        }
                                    });
                                    new Chart(document.getElementById('weekdayBarChart'), {
                                        type: 'bar',
                                        data: {
                                            labels: weekdays,
                                            datasets: [{
                                                label: 'Aantal',
                                                data: counts,
                                                backgroundColor: '#b6d3bb'
                                            }]
                                        },
                                        options: {
                                            responsive: true,
                                            plugins: {
                                                legend: { display: false }
                                            },
                                            scales: {
                                                x: { title: { display: false, text: 'Weekdag' } },
                                                y: { title: { display: false, text: 'Aantal afleveringen' }, beginAtZero: true }
                                            }
                                        }
                                    });
                                });
                            </script>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4 mb-3">
                    <div class="card mb-3 h-100">
                        <div class="card-body">
                            <h3 class="h4">Categorieën</h3>
                            <p>In dit diagram bekijk je alle afleveringen van Kleine Boodschap per categorie.<br/>
                            <small class="fst-italic">Tip: klik op de categorieën onder de cirkel om deze aan of uit te zetten.</small></p>
                            <div class="p-2 p-lg-4"><canvas id="donutChart"></canvas></div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4 mb-3">
                    <div class="card mb-3 h-100">
                        <div class="card-body">
                            <h3 class="h4">Gesproken taal</h3>
                            <p>In deze meter zie je een overzicht van alle geïndexeerde afleveringen en in welke talen deze worden gesproken.</p>
                            <canvas id="languageChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-md-6 offset-md-3 pt-3">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h3 class="h4">Nog meer data?</h3>
                            <p>Heb je een idee om deze data verder uit te breiden? Deel je suggesties, ideeën of feedback via Bluesky!</p>
                            <div class="text-center text-md-start"><a href="https://bsky.app/profile/kbdata.nl" class="btn btn-outline-primary" target="_blank" title="Stuur een bericht via Bluesky"><i class="bi bi-bluesky"></i> Stuur een bericht</a></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card my-3">
                <div class="card-body">
                    <h3 class="h4 card-title">Door de jaren heen</h3>
                    <p class="card-text">In dit staafdiagram zie je het aantal gepubliceerde afleveringen van Kleine Boodschap per
                                kalenderjaar, gestapeld per categorie.</p>
                    <small class="card-text fst-italic">Tip: klik op de categorieën onder het diagram om deze aan of uit
                                te zetten.</small>
                    <canvas id="yearBarChart"></canvas>
                </div>
            </div>
        </div>
    </section>
    </main>
    <footer class="d-none d-md-block bg-dark py-4 mt-auto">
        <div class="container px-5">
            <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                <div class="col-auto">
                    <div class="small m-0 text-white">Copyright &copy; Sjors Hartwijk
                        <script>document.write(new Date().getFullYear())</script>
                    </div>
                </div>
                <div class="col-auto">
                    <a class="link-light small" href="/index.html">Home</a>
                    <span class="text-white mx-1">&middot;</span>
                    <a class="link-light small" href="over.html">Over</a>
                    <span class="text-white mx-1">&middot;</span>
                    <a class="link-light small" href="https://bsky.app/profile/kbdata.bsky.social"
                        target="_blank">Bluesky</a>
                    <span class="text-white mx-1">&middot;</span>
                    <a class="link-light small" href="https://sjorshartwijk.nl/" target="_blank">Sjors
                        Hartwijk</a>
                    <span class="text-white mx-1">&middot;</span>
                    <a class="link-light small" href="https://kleineboodschap.com" target="_blank">Kleine
                        Boodschap</a>
                </div>
            </div>
        </div>
    </footer>
<!-- floating mobile nav -->
<div class="container-fluid d-md-none">
    <nav class="navbar navbar-bottom shadow-lg fixed-bottom">
        <div class="container d-flex justify-content-between text-center">
            <a href="index.html" class="text-decoration-none active">
                <i class="bi bi-bar-chart-fill d-block"></i>
                <span class="small">Statistieken</span>
            </a>
            <a href="afleveringen.html" class="text-decoration-none" title="Afleveringen">
                <i class="bi bi-list-ul d-block"></i>
                <span class="small">Afleveringen</span>
            </a>
            <a href="kaart.html" class="text-decoration-none" title="Kaart">
                <i class="bi bi-geo-alt d-block"></i>
                <span class="small">Kaart</span>
            </a>
            <a href="kalender.html" class="text-decoration-none" title="Kalender">
                <i class="bi bi-calendar3 d-block"></i>
                <span class="small">Kalender</span>
            </a>
            <a href="reeks.html" class="text-decoration-none" title="Reeks">
                <i class="bi bi-arrows d-block"></i>
                <span class="small">Reeks</span>
            </a>
            <a href="wrapped.html" class="text-decoration-none wrappedBtn" title="Wrapped">
                <i class="bi bi-star d-block"></i>
                <span class="small">Wrapped</span>
            </a>
      </div>
    </nav>
</div>
<!-- Mozaiek Modal -->
<div class="modal fade" id="afleveringModal" tabindex="-1" aria-labelledby="afleveringModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title d-flex justify-content-between align-items-center w-100">
                  <div>
                      <span id="modalId"></span>: <span id="modalTitel"></span>
                  </div>
                </h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Sluiten"></button>
            </div>
            <div class="modal-body">
                <span id="modalEpisodeBadge" class="badge mb-4"></span>
                <p><strong>Tijdsduur:</strong> <span id="modalTijd"></span> minuten<br/>
                <strong>Publicatiedatum:</strong> <span id="modalDatum"></span></p>
            </div>
        </div>
    </div>
</div>
    <script>
        const knoppen = document.querySelectorAll(".wrappedBtn");
        const vandaag = new Date();
        const jaar = vandaag.getFullYear();

        // Zichtbaar vanaf 1 januari t/m 28/29 februari (niet inclusief 1 maart)
        const beginDatum = new Date(jaar, 0, 1); // 1 januari
        const eindDatum = new Date(jaar, 2, 1);  // 1 maart

        const zichtbaar = vandaag >= beginDatum && vandaag < eindDatum;

        knoppen.forEach(knop => {
          knop.style.display = zichtbaar ? "block" : "none";
        });
    </script>
    <script>
        // lookup episode by day form
        document.getElementById('episodeForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Voorkom standaardgedrag van formulierverzending
            const month = document.getElementById('month').value;
            const day = document.getElementById('day').value;
            fetch('episodes.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to load JSON data');
                    }
                    return response.json();
                })
                .then(data => {
                    const episode = data.find(item => {
                        const pubDate = new Date(item.datum);
                        return pubDate.getMonth() + 1 === parseInt(month) && pubDate.getDate() === parseInt(day);
                    });
                    const episodeInfoElement = document.getElementById('episodeInfo');
                    if (episode) {
                        episodeInfoElement.innerHTML = `<li class="list-group-item small">Aflevering ${episode.id}: ${episode.titel} (${episode.categorie}-aflevering) is gepubliceerd op jouw gekozen dag.</li>`;
                    } else {
                        episodeInfoElement.innerHTML = '<li class="list-group-item small">Er is op deze dag (nog) geen aflevering gepubliceerd.</li>';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Er is een fout opgetreden bij het laden van de gegevens.');
                });
        });
        /* mozaiek */
        async function laadEpisodes() {
        const res = await fetch('episodes.json');
        const episodes = await res.json();
        const container = document.getElementById('mozaiek');
        episodes.forEach(ep => {
            const blok = document.createElement('div');
            blok.className = `blokje ${ep.categorie}`;
            blok.textContent = ep.id;
            blok.dataset.titel = ep.titel;
            blok.dataset.tijd = ep.tijd;
            blok.dataset.datum = ep.datum;
            blok.dataset.id = ep.id;
        blok.addEventListener('click', () => {
          document.getElementById('modalId').textContent = ep.id;
          document.getElementById('modalTitel').textContent = ep.titel;
          const badge = document.getElementById('modalEpisodeBadge');
            badge.textContent = ep.categorie;
            badge.className = `badge ${ep.categorie}`; // Voeg categorieclass toe
          document.getElementById('modalTijd').textContent = ep.tijd;
          document.getElementById('modalDatum').textContent = new Date(ep.datum).toLocaleDateString('nl-NL');
          const modal = new bootstrap.Modal(document.getElementById('afleveringModal'));
          modal.show();
        });
        container.appendChild(blok);
        });
        }
        laadEpisodes();
    </script>
    <!-- chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- snelle statistieken -->
    <script src="assets/js/quickstats.js"></script>
    <script src="assets/js/onthisday.js"></script>
    <script src="assets/js/category_statistics.js"></script>
    <!-- grafieken -->
    <script src="assets/js/chart_episodes.js"></script>
    <script src="assets/js/chart_episodes_year.js"></script>
    <script src="assets/js/chart_categories.js"></script>
    <script src="assets/js/chart_languages.js"></script>
    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Cookie Consent Banner -->
    <div id="cookieConsentBanner" class="position-fixed top-50 start-50 translate-middle bg-white shadow border rounded p-4" style="z-index:1080; max-width:90%; width:600px;">
        <figure>
            <blockquote class="blockquote">
                <p>Knibbel, Knabbel Knuisje<br/>
                <small><em>Wie knabbelt een cookie van dit huisje?</em></small></p>
            </blockquote>
            <figcaption class="blockquote-footer">
                <cite title="Source Title">Heks</cite>
            </figcaption>
        </figure>
        <p class="mb-4">Deze website plaatst een cookie voor anonieme gebruiksanalyse via <strong>Google Analytics</strong>. Ga je hiermee akkoord?</p>
        <div class="d-flex justify-content-end gap-2">
            <button id="rejectCookies" class="btn btn-outline-secondary btn-sm">Weigeren</button>
            <button id="acceptCookies" class="btn btn-primary btn-sm">Accepteren</button>
        </div>
    </div>
    <script>
        const gaId = "G-7ZT79EJ36K"; // <-- Vervang met jouw GA4-ID
        const banner = document.getElementById("cookieConsentBanner");
        const acceptBtn = document.getElementById("acceptCookies");
        const rejectBtn = document.getElementById("rejectCookies");

        // Functie om GA4 te laden
        function loadGA() {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;

    const script = document.createElement("script");
    script.async = true;
    script.src = "https://www.googletagmanager.com/gtag/js?id=" + gaId;
    script.onload = () => {
      gtag("js", new Date());
      gtag("config", gaId);
    };
    document.head.appendChild(script);
  }

        // Check eerdere keuze
        const cookieChoice = localStorage.getItem("cookieConsent");
        if (cookieChoice === "accepted") {
            loadGA();
                banner.style.display = "none";
        } else if (cookieChoice === "rejected") {
            banner.style.display = "none";
        }

        // Accepteren
        acceptBtn.addEventListener("click", () => {
            localStorage.setItem("cookieConsent", "accepted");
            loadGA();
            banner.style.display = "none";
        });

        // Weigeren
        rejectBtn.addEventListener("click", () => {
            localStorage.setItem("cookieConsent", "rejected");
            banner.style.display = "none";
        });
    </script>
</body>
</html>