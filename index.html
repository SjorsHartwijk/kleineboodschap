<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="icon" type="image/svg+xml" href="assets/images/logo2.svg">
    <link rel="icon" type="image/png" href="assets/images/logo2.png">
    <title>Kleine Boodschap Data</title>
    <meta name="theme-color" content="#154666"/>
    <meta property="og:title" content="Kleine Boodschap Data">
    <meta property="og:site_name" content="Kleine Boodschap Data">
    <meta property="og:url" content="https://kleineboodschapdata.vercel.app/">
    <meta property="og:description" content="Deze website biedt alle statistieken en visuele data van de podcast Kleine Boodschap">
    <meta property="og:type" content="">
    <meta property="og:image" content="assets/images/opengraph.png">
    <meta name="description"
        content="Geniet je ook wekelijks van Kleine Boodschap en vraag je je wel eens af hoeveel tijd je eraan besteedt? Deze pagina biedt alle statistieken en feiten die je al dan niet nodig hebt.">
    <script src="https://kit.fontawesome.com/396ea48297.js" crossorigin="anonymous"></script>
    <style>
        .navbar{
            margin: 8px 8px 0 8px;
        }
        @media (min-width: 992px) {
            .navbar {
                margin: 30px 30px 0 30px;
            }
        }
    </style>
</head>
<body class="d-flex flex-column h-100">
        <main class="flex-shrink-0">
            <!-- Navigation-->
            <nav class="navbar navbar-expand-lg navbar-dark bg-theme fixed-top rounded-3 shadow-sm">
                <div class="container-fluid">
                    <a class="navbar-brand" href="index.html"><img src="assets/images/logo2.png"/ alt="Logo Kleine Boodschap Data"> <span
                            class="d-none d-md-inline-block ">Kleine Boodschap Data</span><span
                            class="d-inline-block d-md-none">KB Data</span></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation"><span
                            class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                            <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
                            <li class="nav-item"><a class="nav-link" href="afleveringen.html">Afleveringen</a></li>
                            <li class="nav-item"><a class="nav-link" href="kaart.html">Kaart</a></li>
                            <li class="nav-item"><a class="nav-link" href="kalender.html">Kalender</a></li>
                            <li class="nav-item"><a class="nav-link" href="reeks.html">Reeks</a></li>
                            <li class="nav-item"><a class="nav-link" href="#about">Over</a></li>
                            <li class="nav-item"><a class="nav-link" href="https://bsky.app/profile/kbdata.bsky.social" rel="nofollow" target="_blank"><i class="fa-brands fa-bluesky"></i></a></li>
                            <li class="nav-item"><a class="nav-link" href="https://kleineboodschap.com" rel="nofollow"
                                target="_blank">Kleine Boodschap <i class="fa-solid fa-arrow-up-right-from-square"></i></a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- Header-->
            <header id="top" class="py-5 finisher-header">
                <div class="container">
                    <div class="row gx-5 align-items-center justify-content-center justify-content-xl-start">
                        <div class="col-lg-8 col-xl-8 col-xxl-8">
                            <div class="my-5 text-center text-xl-start pt-5">
                                <h1 class="display-5 fw-bolder text-white mb-2"><img src="assets/images/logo2.png"/ alt="Logo Kleine Boodschap Data"> Kleine
                                    Boodschap data</h1>
                                <p class="lead fw-normal text-white mb-4">Geniet je ook wekelijks van Kleine Boodschap
                                    en vraag je je wel eens af hoeveel tijd je eraan besteedt? Deze pagina biedt alle
                                    statistieken en feiten die je al dan niet nodig hebt.</p>
                                <div class="d-grid gap-3 d-sm-flex justify-content-sm-center justify-content-xl-start">
                                    <a class="btn btn-theme px-4" href="#statistieken">Statistieken</a>
                                    <a class="btn btn-success px-4" href="kaart.html">Kaart</a>
                                    <a class="btn btn-outline-light px-4" href="#data">Data</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- Statistieken section-->
            <section class="py-5" id="statistieken">
                <div class="container">
                    <div class="row">
                        <div class="col-12 mb-3">
                            <h2 class="fw-bolder mb-0">Statistieken</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 col-lg-4 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h2 class="h5 card-title">Afleveringen</h2>
                                    <p class="card-text">Op dit moment zijn er <strong><span
                                                id="afleveringenCount"></span></strong> afleveringen van Kleine
                                        Boodschap geïndexeerd op deze website.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 col-lg-4 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h2 class="h5 card-title">Gemiddeld</h2>
                                    <p class="card-text">Gemiddeld duurt een aflevering van Kleine Boodschap
                                        <strong><span id="averageMinutes"></span></strong> minuten.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 col-lg-4 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h2 class="h5 card-title">Totaal</h2>
                                    <p class="card-text"><span id="totalMinutes"></span></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 mb-3">
                            <div class="card h-100">
                                <div class="card-body d-flex flex-column justify-content-start">
                                    <h2 class="h5 card-title">Langste aflevering</h2>
                                    <p class="card-text">Aflevering <span id="longestEpisodeInfo"></span></p>
                                    <div class="d-flex mt-auto">
                                        <details>
                                            <summary>Top 5</summary>
                                            <ul id="longestEpisodesList" class="list-group"></ul>
                                        </details>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 mb-3">
                            <div class="card h-100">
                                <div class="card-body d-flex flex-column justify-content-start">
                                    <h2 class="h5 card-title">Kortste aflevering</h2>
                                    <p class="card-text">Aflevering <span id="shortestEpisodeInfo"></span></p>
                                    <div class="d-flex mt-auto">
                                        <details>
                                            <summary>Top 5</summary>
                                            <ul id="shortestEpisodesList" class="list-group"></ul>
                                        </details>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="statistics"></div>
                        <div class="col-12 col-md-6 col-lg-3 mb-3">
                            <div class="card bg-achtergrond h-100">
                                <div class="card-body" id="achtergrondStatistics">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 col-lg-3 mb-3">
                            <div class="card bg-nieuws h-100">
                                <div class="card-body" id="newsStatistics">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 col-lg-3 mb-3">
                            <div class="card bg-interview h-100">
                                <div class="card-body" id="interviewStatistics">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 col-lg-3 mb-3">
                            <div class="card bg-reportage h-100">
                                <div class="card-body" id="reportageStatistics">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 mb-3">
                            <div class="card h-100">
                                <div class="card-body d-flex flex-column justify-content-start">
                                    <h2 class="h5 card-title">Vandaag de dag</h2>
                                    <p class="card-text">Indien er op deze dag in het verleden een aflevering is
                                        verschenen wordt/worden deze aflevering(en) hier geplaatst.</p>
                                    <ul class="d-flex mt-auto list-group" id="todayEpisodes">
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h2 class="h5 card-title">Jouw dag</h2>
                                    <p class="card-text">Benieuwd welke aflevering(en) op bijv. jouw verjaardag is
                                        gepubliceerd? Vul je dag in en zie direct het resultaat.</p>
                                    <form id="episodeForm">
                                        <div class="row">
                                            <div class="col-8">
                                                <label for="month" class="form-label">Maand:</label>
                                                <select id="month" class="form-control" required>
                                                    <option disabled selected>Selecteer maand</option>
                                                    <option value="1">Januari</option>
                                                    <option value="2">Februari</option>
                                                    <option value="3">Maart</option>
                                                    <option value="4">April</option>
                                                    <option value="5">Mei</option>
                                                    <option value="6">Juni</option>
                                                    <option value="7">Juli</option>
                                                    <option value="8">Augustus</option>
                                                    <option value="9">September</option>
                                                    <option value="10">Oktober</option>
                                                    <option value="11">November</option>
                                                    <option value="12">December</option>
                                                </select>
                                            </div>
                                            <div class="col-4">
                                                <label for="day" class="form-label">Dag:</label>
                                                <input class="form-control" type="text" id="day" inputmode="numeric"
                                                    pattern="[1-9]|[12]\d|3[01]" title="Vul een getal tussen 1 en 31 in"
                                                    required>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary my-3 px-4">Zoek</button>
                                    </form>
                                    <ul class="list-group" id="episodeInfo"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Data section-->
            <section id="data">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <h2>Data</h2>
                            <p class="pb-2">Bekijk hier de data van alle afleveringen van Kleine Boodschap.</p>
                        </div>
                    </div>
                </div>
                <div class="container" id="toggleView">
                    <div class="row mb-5">
                        <div class="col-12">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h3 class="h4">Afleveringen</h3>
                                    <div class="legenda d-none d-md-flex flex-row flex-wrap pb-2 ">
                                        <div class="achtergrond">Achtergrond</div>
                                        <div class="nieuws">Nieuws</div>
                                        <div class="reportage">Reportage</div>
                                        <div class="interview">Interview</div>
                                    </div>
                                </div>
                                <div class="d-none d-md-block">
                                    <button id="toggleButton" onclick="toggleContainer()"
                                        class="btn btn-resize btn-outline-dark"
                                        aria-label="Knop om de grafiek te vergroten of verkleinen"><i class="fa-solid fa-maximize"></i></button>
                                </div>
                            </div>
                            <div class="d-block d-md-none text-center">
                                <div class="alert alert-info"><small class="fst-italic">Op 't kleine scherm, daar is 't
                                        een twist,
                                        een grafiek zo klein, 't is een gemis.
                                        Verander van scherm, dan zie je 't pas.
                                        De data komt op groter scherm beter van pas.</small></div>
                            </div>
                            <canvas id="barChart" class="d-none d-md-block"></canvas>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="row mb-5 d-flex align-items-center bg-white rounded-3 py-3 px-1 px-lg-5">
                        <div class="col-12 col-lg-5">
                            <h3 class="h4">Categorieën</h3>
                            <p>In dit diagram bekijk je alle afleveringen van Kleine Boodschap per categorie.</p>
                            <small class="fst-italic">Tip: klik op de categorieën naast de cirkel om deze aan of uit te
                                zetten.</small>
                        </div>
                        <div class="col-12 col-lg-7 text-center">
                            <canvas id="donutChart"></canvas>
                        </div>
                    </div>
                    <div class="row mb-5 d-flex align-items-center">
                        <div class="col-12 col-lg-4">
                            <h3 class="h4">Door de jaren heen</h3>
                            <p>In dit staafdiagram zie je het aantal gepubliceerde afleveringen van Kleine Boodschap per
                                kalenderjaar, gestapeld per categorie.</p>
                            <small class="fst-italic">Tip: klik op de categorieën onder het diagram om deze aan of uit
                                te zetten.</small>
                        </div>
                        <div class="col-12 col-lg-8">
                            <canvas id="yearBarChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            <section id="about">
                <div class="container">
                    <div class="row">
                        <div class="col-12 mb-5">
                            <div class="card" id="about">
                                <div class="card-body m-1 m-md-3 m-lg-5">
                                    <h3 class="h4 card-title">Over dit project</h3>
                                    <p class="card-text">Het project Kleine Boodschap Data is een hobbyproject dat is ontstaan uit mijn
                                        interesse voor de Efteling en de vele uren luisterplezier die de Afleveringen
                                        van Kleine Boodschap mij hebben bezorgd.</p>
                                    <p class="card-text">Ik werk indien mogelijk bij het verschijnen van elke (nieuwe) aflevering alle data over de afleveringen bij en publiceer
                                        de statistieken op deze website en via <a href="https://bsky.app/profile/kbdata.bsky.social">Bluesky</a>.
                                    </p>
                                    <p class="card-text">Dit project heeft geen commerciële doeleinden en heeft geen enkele affiliatie met
                                        de podcast Kleine Boodschap noch de Efteling. Wat betreft de data haal ik alleen
                                        de openbare gegevens zoals titel, publicatiedatum en categorie van een
                                        aflevering van de website van Kleine Boodschap. De afleveringen zelf zijn via deze website
                                        niet te beluisteren en wordt er ook niet naar verwezen.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!-- Footer-->
        <footer class="bg-dark py-4 mt-auto">
            <div class="container px-5">
                <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                    <div class="col-auto">
                        <div class="small m-0 text-white">Copyright &copy; Sjors Hartwijk
                            <script>document.write(new Date().getFullYear())</script>
                        </div>
                    </div>
                    <div class="col-auto">
                        <a class="link-light small" href="#top">Home</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="#about">Over</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://bsky.app/profile/kbdata.bsky.social"
                            target="_blank">Bluesky</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://sjorshartwijk.nl/" target="_blank">Sjors
                            Hartwijk</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="https://kleineboodschap.com" target="_blank">Kleine
                            Boodschap</a>
                    </div>
                </div>
            </div>
        </footer>
        <script>
            // toggle container for the episodes data
            function toggleContainer() {
                var element = document.getElementById('toggleView');
                var button = document.getElementById('toggleButton');
                if (element.classList.contains('container')) {
                    element.classList.remove('container');
                    element.classList.add('container-fluid');
                    button.innerHTML = '<i class="fa-solid fa-minimize"></i>';
                } else {
                    element.classList.remove('container-fluid');
                    element.classList.add('container');
                    button.innerHTML = '<i class="fa-solid fa-maximize"></i>';
                }
            }
            // lookup episode by day form
            document.getElementById('episodeForm').addEventListener('submit', function (event) {
                event.preventDefault(); // Voorkom standaardgedrag van formulierverzending

                const month = document.getElementById('month').value;
                const day = document.getElementById('day').value;

                fetch('episodes.json')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Failed to load JSON data');
                        }
                        return response.json();
                    })
                    .then(data => {
                        const episode = data.find(item => {
                            const pubDate = new Date(item.datum);
                            return pubDate.getMonth() + 1 === parseInt(month) && pubDate.getDate() === parseInt(day);
                        });

                        const episodeInfoElement = document.getElementById('episodeInfo');
                        if (episode) {
                            episodeInfoElement.innerHTML = `<li class="list-group-item small">Aflevering ${episode.id}: ${episode.titel} (${episode.categorie}-aflevering) is gepubliceerd op jouw gekozen dag.</li>`;
                        } else {
                            episodeInfoElement.innerHTML = '<li class="list-group-item small">Er is op deze dag (nog) geen aflevering gepubliceerd.</li>';
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Er is een fout opgetreden bij het laden van de gegevens.');
                    });
            });
        </script>
        <!-- chart.js -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- snelle statistieken -->
        <script src="assets/js/quickstats.js"></script>
        <script src="assets/js/onthisday.js"></script>
        <script src="assets/js/category_statistics.js"></script>
        <!-- grafieken -->
        <script src="assets/js/chart_episodes.js"></script>
        <script src="assets/js/chart_episodes_year.js"></script>
        <script src="assets/js/chart_categories.js"></script>
        <!-- bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    </body>

</html>